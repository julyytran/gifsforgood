<h1 class="text-center">Your Shopping Cart</h1>

<div class="container">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Image</th>
        <th>Title & Description</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Subtotal</th>
      </tr>
    </thead>
    <tbody>
      <% @gifs_quant.each do |gif, quantity| %>
        <div id="gif-info">
          <tr>
            <td><%= image_tag gif.image, width: 80 %></td>
            <td><%= gif.title %>
            <p><%= gif.description %></p></td>
            <td><%= format_price(gif.price) %></td>
            <td>
              <%= form_tag(cart_path(id: gif.id), method: :patch) do %>
                <p><%= select gif.id, quantity, (1..15).to_a, selected: quantity %></p>
                <p><%= submit_tag "Update Quantity" %></p>
              <% end %>
              <p><%= link_to "Remove", cart_path(id: gif.id), method: :delete %></p>
            </td>
            <td><%= format_price(quantity * gif.price) %></td>
          </tr>
        </div>
      <% end %>
      <tr>
        <td colspan=5 align=right>
          <p>Total: <%=  format_price(get_total_price(@gifs_quant)) %></p>
          <p><%= link_to "Checkout", checkout_path %></p>
        </td>
      </tr>
    </tbody>
  </table>


</div>
